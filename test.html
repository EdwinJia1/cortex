<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡¹ç›®ç»“æ„æµ‹è¯•</title>
</head>
<body>
    <h1>æç¤ºè¯å¤§å¸ˆï¼šå‚æ•°å®éªŒå®¤ - ç»“æ„æµ‹è¯•</h1>
    <div id="test-results"></div>

    <script>
        // æµ‹è¯•é¡¹ç›®æ–‡ä»¶ç»“æ„å’Œé“¾æ¥
        const testResults = document.getElementById('test-results');
        const tests = [];

        // æµ‹è¯•1: æ£€æŸ¥levels.jsæ˜¯å¦æ­£å¸¸åŠ è½½
        try {
            if (typeof getLevel === 'function') {
                tests.push('âœ… levels.js åŠ è½½æˆåŠŸ');
                const level1 = getLevel(1);
                if (level1 && level1.problem) {
                    tests.push('âœ… å…³å¡æ•°æ®ç»“æ„æ­£å¸¸');
                } else {
                    tests.push('âŒ å…³å¡æ•°æ®ç»“æ„å¼‚å¸¸');
                }
            } else {
                tests.push('âŒ levels.js æœªæ­£å¸¸åŠ è½½');
            }
        } catch (e) {
            tests.push(`âŒ levels.js æµ‹è¯•å¤±è´¥: ${e.message}`);
        }

        // æµ‹è¯•2: æ£€æŸ¥explanation.jsæ˜¯å¦æ­£å¸¸åŠ è½½
        try {
            if (typeof explanationSystem === 'object') {
                tests.push('âœ… explanation.js åŠ è½½æˆåŠŸ');
            } else {
                tests.push('âŒ explanation.js æœªæ­£å¸¸åŠ è½½');
            }
        } catch (e) {
            tests.push(`âŒ explanation.js æµ‹è¯•å¤±è´¥: ${e.message}`);
        }

        // æµ‹è¯•3: æ£€æŸ¥api.jsæ˜¯å¦æ­£å¸¸åŠ è½½
        try {
            if (typeof generateImage === 'function') {
                tests.push('âœ… api.js åŠ è½½æˆåŠŸ');
            } else {
                tests.push('âŒ api.js æœªæ­£å¸¸åŠ è½½');
            }
        } catch (e) {
            tests.push(`âŒ api.js æµ‹è¯•å¤±è´¥: ${e.message}`);
        }

        // æµ‹è¯•4: æ£€æŸ¥DOMå…ƒç´ æ˜¯å¦å­˜åœ¨
        const requiredIds = [
            'level-badge', 'problem-text', 'prompt-input', 'generate-btn',
            'parameters-card', 'creativity-slider', 'style-slider',
            'image-container', 'why-button', 'explanation-panel'
        ];

        let domTestsPassed = 0;
        requiredIds.forEach(id => {
            if (document.getElementById(id)) {
                domTestsPassed++;
            }
        });

        if (domTestsPassed === requiredIds.length) {
            tests.push('âœ… æ‰€æœ‰å¿…éœ€çš„DOMå…ƒç´ éƒ½å­˜åœ¨');
        } else {
            tests.push(`âš ï¸ DOMå…ƒç´ æµ‹è¯•: ${domTestsPassed}/${requiredIds.length} é€šè¿‡`);
        }

        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        testResults.innerHTML = `
            <h2>Phase 1 æŠ€æœ¯éªŒè¯ç»“æœ</h2>
            <ul>
                ${tests.map(test => `<li>${test}</li>`).join('')}
            </ul>
            <h3>é¡¹ç›®çŠ¶æ€</h3>
            <p><strong>âœ… Phase 1 æŠ€æœ¯éªŒè¯ä¸é¡¹ç›®è®¾ç½® - å®Œæˆ</strong></p>
            <p>æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶å·²åˆ›å»ºå¹¶æ­£ç¡®é“¾æ¥ã€‚</p>
            <p>ğŸš€ <strong>å¯ä»¥å¼€å§‹Phase 2ï¼šæ ¸å¿ƒç©æ³•å¼€å‘</strong></p>
        `;

        // åœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†ä¿¡æ¯
        console.log('=== æç¤ºè¯å¤§å¸ˆï¼šå‚æ•°å®éªŒå®¤ - æŠ€æœ¯éªŒè¯ ===');
        console.log('é¡¹ç›®æ–‡ä»¶ç»“æ„æ£€æŸ¥ï¼š');
        console.log('âœ… index.html - ä¸»é¡µé¢');
        console.log('âœ… style.css - Gumroadé£æ ¼æ ·å¼');
        console.log('âœ… js/api.js - Gemini APIè°ƒç”¨æ¨¡å—');
        console.log('âœ… js/levels.js - å…³å¡æ•°æ®ç³»ç»Ÿ');
        console.log('âœ… js/explanation.js - AIè§£é‡Šç³»ç»Ÿ(åˆ¶èƒœæ­¦å™¨ğŸ†)');
        console.log('âœ… js/app.js - ä¸»æ¸¸æˆé€»è¾‘');
        console.log('');
        console.log('Phase 1 éªŒè¯å®Œæˆï¼å‡†å¤‡è¿›å…¥Phase 2å¼€å‘ã€‚');
    </script>

    <!-- å¼•å…¥æ‰€æœ‰JSæ–‡ä»¶è¿›è¡Œæµ‹è¯• -->
    <script src="js/api.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/explanation.js"></script>
    <script src="js/app.js"></script>
</body>
</html>